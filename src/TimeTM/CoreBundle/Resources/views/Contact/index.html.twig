
{% block mainContent -%}

<div class="listContainer">

    <h1>{{ 'contact.list'|trans }} ({{ entities.getTotalItemCount }})</h1>

    <table id="contactList" class="overflow contactList">
         <thead>
             <tr>
             {# sorting of properties based on query components #}
                <th{% if entities.isSorted('c.name') %} class="sorted"{% endif %}>{{ knp_pagination_sortable(entities, 'name', ['c.firstname', 'c.lastname']) }}</th>
                <th{% if entities.isSorted('c.email') %} class="sorted"{% endif %}>{{ knp_pagination_sortable(entities, 'email', 'c.email') }}</th>
                <th class="showForMediumTableCell {% if entities.isSorted('c.phone') %}sorted{% endif %}">{{ knp_pagination_sortable(entities, 'phone', 'c.phone') }}</th>
                <th class="showForMediumTableCell {% if entities.isSorted('c.phone') %}sorted{% endif %}">{{ knp_pagination_sortable(entities, 'company', 'c.company') }}</th>
                <th class="showForMediumTableCell {% if entities.isSorted('c.phone') %}sorted{% endif %}">{{ knp_pagination_sortable(entities, 'client', 'c.client') }}</th>
             </tr>
         </thead>
        {% for entity in entities %}
            <tr data-href="{{ path('contact_show', { 'id': entity.id }) }}">
{#                 <td><a href="{{ path('contact_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>#}
                <td>
                    {{ entity.lastname }}
                    {{ entity.firstname }}
                </td>
                <td class="">{{ entity.email }}</td>
                <td class="showForMediumTableCell">{{ entity.phone }}</td>
                <td class="showForMediumTableCell">
                    {% if entity.isCompany %}
                    	company
                    {% endif %}
                </td>
                <td class="showForMediumTableCell">
                    {% if entity.isClient %}
                    	client
                    {% endif %}
                </td>

{#                 <td>#}
{#                 <ul>#}
{#                     <li>#}
{#                         <a href="{{ path('contact_show', { 'id': entity.id }) }}">show</a>#}
{#                     </li>#}
{#                     <li>#}
{#                         <a href="{{ path('contact_edit', { 'id': entity.id }) }}">edit</a>#}
{#                     </li>#}
{#                 </ul>#}
{#                 </td>#}
            </tr>
        {% endfor %}
            <tr>
                <td colspan="6" class="align-center">
                    <div id="paginationContainer">
                        {{ knp_pagination_render(entities) }}
                    </div>
                </td>
            </tr>
        	<tr>
        		<td colspan="6" class="align-center">
        			<a class="button" href="{{ path('contact_new') }}">
		                {{ 'action.new'|trans }} {{ 'contact.name.sing'|trans }}
		            </a>
        		</td>
        	</tr>
        </tbody>
    </table>
</div>
{% endblock %}
