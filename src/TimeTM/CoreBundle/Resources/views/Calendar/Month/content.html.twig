{# src/TimeTM/CalendarBundle/Resources/views/Month/content.html.twig #}

<table id="calendar" class="fixed" >
	<tr>
{% for day in days %}
	{% if (( loop.index < 7 ) and ( day.day > 20 )) or (( loop.index > 20 ) and ( day.day < 7 )) %}
	  	<td class="outOfMonth">
    {% else %}
		<td data-url="{{ day.datestamp }}">
	{% endif %}
			<div class="header">
			    <a class="inner" href="{{ day.url }}"><span>{{ day.day }}</span></a>
		    </div>
    {% if day.datestamp is defined and not day.events is empty %}
    		<div class="monthEventWrapper">
    	{% for event in day.events %}
    			<div class="monthEvent">
					<a class="inner" 
						href="{{ path('event_show', {'id': event.id}) }}" 
						title="{{ event.title }} - {{ event.place }} - {{ event.startdate|date('H:i')}}-{{ event.enddate|date('H:i') }}">
						{{ event.startdate|date("H:i") }} {{ event.title|length > 20 ? event.title[:20] ~ '...': event.title  }}
					</a>
				</div>
    	{% endfor %}
		    </div>
    {% endif %}
		</td>
    {% if loop.index % 7 == 0 and not loop.last %}
  	</tr><tr>
    {% endif %}
{% endfor %}
	</tr>
</table>
